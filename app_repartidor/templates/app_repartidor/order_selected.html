{% extends 'urappi/base.html' %} 
{% load static %}
{% block title %}Detalle de pedido{% endblock title %}

    
{% block header %}
<header class="relative bg-gray-200 p-4 shadow-md flex justify-between items-center h-24">
    
    <div class="flex items-center">
      
        <div class="flex flex-col items-center mr-4">
          
            <div class="w-16 h-16 rounded-full overflow-hidden border-2 border-blue-500"> 
                <img src="{% static '/svg/user2.jpg' %}" alt="Foto de perfil" class="w-full h-full object-cover">
            </div>

               
        </div>

      
        <h1 class="text-2xl font-bold text-gray-800">{{customer}}</h1>
    </div>

    
    <div class="text-xl font-extrabold text-black"> {{ total }}</div>
</header>

{% endblock header %}




{% block content %}
<div class="container mx-auto px-4 py-8">
    <h1 class="text-3xl font-bold text-gray-800 mb-6">Detalles del Pedido #{{ orderID }}</h1>

    <div class="flex flex-col lg:flex-row gap-6">

        <div class="flex-1 bg-white p-6 rounded-lg shadow-md">
            <h2 class="text-2xl font-semibold text-gray-800 mb-4 border-b pb-2">Productos en la Orden:</h2>

            {% if product_list %} 
                <div class="space-y-4">
                    {% for item in product_list %}
                        <div class="product-item bg-gray-50 p-4 rounded-lg border border-gray-200 relative flex items-center">
                            <div class="w-16 h-16 rounded-full overflow-hidden mr-4 flex-shrink-0">
                                <img src="{% static item.imageURL %}" alt="{{ item.ProductName }}" class="w-full h-full object-cover">
                            </div>

                            <div class="flex-grow">
                                <h4 class="text-lg font-bold text-black">{{ item.productName }}</h4>
                                <p class="text-sm text-gray-600">{{ item.description }}</p>
                            </div>

                            <p class="price absolute top-4 right-4 text-md font-semibold text-gray-900">
                                ${{ item.priceCLP }} CLP
                            </p>
                        </div>
                    {% endfor %}
                </div>
            {% else %}
                <p class="text-gray-600">No hay productos en este pedido.</p>
            {% endif %}

            


                
            
        </div>

        
        <div class="w-full lg:w-1/3 bg-white p-6 rounded-lg shadow-md flex-shrink-0">
            <h2 class="text-2xl font-semibold text-gray-800 mb-4 border-b pb-2">Informaci√≥n de la Orden:</h2>
            <p class="text-lg text-gray-700 mb-2">Estado del Pedido: <span class="font-bold text-gray-900">{{ status }}</span></p> 
            <p class="text-lg text-gray-700 mb-2">Lugar de entrega: <span class="font-bold text-gray-900">{{ location }}</span></p> 
            <p class="text-lg text-gray-700 mb-2">Hora: <span class="font-bold text-gray-900">{{ time }}</span></p>
            <p class="text-lg text-gray-700 mb-2">Tienda: <span class="font-bold text-gray-900">{{ shop }}</span></p>
            <p class="text-3xl font-extrabold text-black mt-6">Total: {{ bill }}</p> 
            <button type="submit"class="w-full btn btn-primary mt-auto">Aceptar pedido</button>
        </div>

    </div>

    
<div class="fixed top-4 right-4 z-50">
    <a href="#" class="w-full btn btn-primary mt-auto rounded-full p-4 shadow-lg hover:bg-blue-700 transition duration-300 flex items-center justify-center w-16 h-16">
        <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" d="M18 10c0 3.866-3.582 7-8 7a7.96 7.96 0 01-2.029-.275 9.774 9.774 0 01-1.356.577.5.5 0 01-.62.067c-.201-.11-.476-.328-.597-.532a.5.5 0 01-.067-.62c.11-.201.328-.476.532-.597a.5.5 0 01.62-.067l.577.135a.75.75 0 00.916-.483l.275-.826A7.96 7.96 0 012 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM9 9a1 1 0 100 2h2a1 1 0 100-2H9z" clip-rule="evenodd"></path>
        </svg>
    </a>
</div>
</div>
{% endblock content %}
