{% extends 'urappi/base.html' %} 
{% load static %}
{% block title %}Perfil del Repartidor{% endblock title %}



{% block header %}
<header class="relative bg-gray-200 p-4 shadow-md flex justify-between items-center h-24">
    
    <div class="flex items-center">
      
        <div class="flex flex-col items-center mr-4">
          
            <div class="w-16 h-16 rounded-full overflow-hidden border-2 border-blue-500"> 
                <img src="{% static '/svg/user.png' %}" alt="Foto de perfil" class="w-full h-full object-cover">
            </div>

           
            <input type="checkbox" class="toggle toggle-success mt-[-10px]" id="switch-label">
    
        </div>

      
        <h1 class="text-2xl font-bold text-gray-800">Pepito</h1>
    </div>

    
    <div class="text-xl font-extrabold text-black">500PTS</div>
</header>
{% endblock header %}


{% block content %}
<div class="main-content-pedidos container mx-auto px-4 py-8"> 
    <h1 class="text-3xl font-bold text-gray-800 mb-6 text-center">Pedidos Pendientes</h1> 

    <div class="pedidos-container flex flex-col gap-4 max-w-lg mx-auto"> 
        {% if pending_orders %}
            {% for pedido in pending_orders %}
              
                <div class="bg-white p-4 rounded-lg shadow-md border border-gray-200 flex flex-col justify-between h-56">
                    
                    <div class="flex items-center mb-4">
                      
                        <div class="w-16 h-16 rounded-full overflow-hidden mr-4 flex-shrink-0">
                            <img src="{% static pedido.imageURL %}" alt="Imagen del Pedido" class="w-full h-full object-cover">
                        </div>
                        
                       
                        <div class="flex-grow">
                            <p class="text-sm font-semibold text-gray-600">{{ pedido.id }}</p> 
                            <p class="text-lg font-bold text-black mt-1">{{ pedido.customer }}</p>
                        </div>

                       
                        <p class="text-xl font-extrabold text-green-600 ml-auto">{{ pedido.total }}</p>
                    </div>

                    
                    <div class="flex justify-between items-start mb-4">
                        <div class="flex-1 mr-4">
                            <p class="text-sm text-gray-500">{{ pedido.deliveryLocation }} ({{ pedido.itemQuantity }} items)</p>
                        </div>
                        <div class="text-right">
                            <p class="text-lg font-bold text-gray-800">{{ pedido.createdAt }}</p>
                            <p class="text-sm text-gray-500">{{ pedido.shop.location }}</p>
                        </div>
                    </div>
                    
                   
                          
            <a href="{% url 'app_repartidor:order_selected' order_id=pedido.orderID %}">
                                <button class="w-full btn btn-primary mt-auto">Detalles</button>
                    </a>             
                       </div>
            {% endfor %}
        {% else %}
            <p class="text-gray-600 text-center">Â¡No hay pedidos pendientes en este momento!</p>
        {% endif %}
    </div>
</div>
{% endblock content %}