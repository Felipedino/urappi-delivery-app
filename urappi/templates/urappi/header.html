<header class="bg-gradient-to-r from-primary to-secondary text-white">
    <!-- header elements -->
     {% load static %}

    {% if user.is_authenticated %}
        {% if user.rol == "customer" %}
            {% url 'home' as logo_url %}
        {% elif user.rol == "seller" %}
            {% url 'repartidor_perfil' as logo_url %}
        {% else %}
            {% url 'show_my_store' as logo_url %}
        {% endif %}
    {% else %}
        {% url 'home' as logo_url %}
    {% endif %}
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex items-center justify-between h-16">
        <a href="{{ logo_url }}">
            <img src="{% static 'images/logo.png' %}" alt="Urappi Logo" class="h-16 object-contain">
        </a>

        <nav class="flex items-center space-x-6">
        {% if user.rol == 'customer' %}
            <!-- Ícono Carrito -->
            <a href="{% url 'cart' %}" class="relative group ml-4 flex items-center">
                <!-- Icono carrito (Heroicon) -->
                <svg xmlns="http://www.w3.org/2000/svg"
                        class="w-7 h-7 transition"
                        :class="group-hover:text-red-400 text-white"
                        fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 7M7 13l-1.293 2.293a1 1 0 00.217 1.32c.286.258.683.386 1.076.293h9.94c.393.093.79-.035 1.076-.293a1 1 0 00.217-1.32L17 13M9 21a1 1 0 102 0 1 1 0 00-2 0zm6 0a1 1 0 102 0 1 1 0 00-2 0z"/>
                </svg>
                <!-- Badge de cantidad -->
                <span class="absolute -top-1 -right-1 bg-red-500 text-xs rounded-full w-5 h-5 flex items-center justify-center text-white shadow
                group-hover:bg-red-600 transition">0</span>
            </a>

            <!-- Ícono notificationes -->
             <a href="{% url 'show_notifications' %}" class="relative group ml-4 flex items-center">
                <!-- Icono carrito (Heroicon) -->
            <svg fill="#FFFFFF" class="w-7 h-7" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
                viewBox="0 0 611.999 611.999" xml:space="preserve">
            <g>
                <g>
                    <g>
                        <path d="M570.107,500.254c-65.037-29.371-67.511-155.441-67.559-158.622v-84.578c0-81.402-49.742-151.399-120.427-181.203
                            C381.969,34,347.883,0,306.001,0c-41.883,0-75.968,34.002-76.121,75.849c-70.682,29.804-120.425,99.801-120.425,181.203v84.578
                            c-0.046,3.181-2.522,129.251-67.561,158.622c-7.409,3.347-11.481,11.412-9.768,19.36c1.711,7.949,8.74,13.626,16.871,13.626
                            h164.88c3.38,18.594,12.172,35.892,25.619,49.903c17.86,18.608,41.479,28.856,66.502,28.856
                            c25.025,0,48.644-10.248,66.502-28.856c13.449-14.012,22.241-31.311,25.619-49.903h164.88c8.131,0,15.159-5.676,16.872-13.626
                            C581.586,511.664,577.516,503.6,570.107,500.254z M484.434,439.859c6.837,20.728,16.518,41.544,30.246,58.866H97.32
                            c13.726-17.32,23.407-38.135,30.244-58.866H484.434z M306.001,34.515c18.945,0,34.963,12.73,39.975,30.082
                            c-12.912-2.678-26.282-4.09-39.975-4.09s-27.063,1.411-39.975,4.09C271.039,47.246,287.057,34.515,306.001,34.515z
                            M143.97,341.736v-84.685c0-89.343,72.686-162.029,162.031-162.029s162.031,72.686,162.031,162.029v84.826
                            c0.023,2.596,0.427,29.879,7.303,63.465H136.663C143.543,371.724,143.949,344.393,143.97,341.736z M306.001,577.485
                            c-26.341,0-49.33-18.992-56.709-44.246h113.416C355.329,558.493,332.344,577.485,306.001,577.485z"/>
                        <path d="M306.001,119.235c-74.25,0-134.657,60.405-134.657,134.654c0,9.531,7.727,17.258,17.258,17.258
                            c9.531,0,17.258-7.727,17.258-17.258c0-55.217,44.923-100.139,100.142-100.139c9.531,0,17.258-7.727,17.258-17.258
                            C323.259,126.96,315.532,119.235,306.001,119.235z"/>
                    </g>
                </g>
            </g>
            </svg>
                <!-- Badge de cantidad -->
                <span class="absolute -top-1 -right-1 bg-red-500 text-xs rounded-full w-5 h-5 flex items-center justify-center text-white shadow
                group-hover:bg-red-600 transition">0</span>
            </a>
        {% endif %}

        {% if user.is_authenticated %}       

            <div class="flex flex-col justify-center justify-between">
                <h1 class="text-lg font-semibold">Hola, {{ usuario.apodo }}</h1>
                <p class="text-sm">Tienes ${{ usuario.upuntos }} UPuntos</p>
            </div>

            <a href="{% url 'profile' %}" class="btn btn-ghost btn-sm">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                </svg>
                Mi Perfil
            </a>
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex items-center justify-between h-16">
                <a href="{% url 'logout' %}">Cerrar sesión </a>    
            </div>

            
        {% else %}
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex items-center justify-between h-16">
                <a href="{% url 'register_user' %}">Registrarse</a>
            </div>
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex items-center justify-between h-16">
                <a href="{% url 'login' %}">Iniciar Sesión</a>
            </div>
        {% endif %}
        </nav>
    </div>


</header>